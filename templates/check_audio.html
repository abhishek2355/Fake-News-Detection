<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Audio Detector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <h1 class="title">ğŸµ AI Audio Detector</h1>
        <p class="subtitle"> Upload an audio file to check whether it is AI-generated or Real </p>

        <form action="/check_audio" method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="upload-area" id="uploadArea">
                <div class="icon">ğŸ§</div>
                <div id="fileLabel" class="file-label"> Click to select audio file <br> or drag & drop </div>
                <div class="supported-formats" id="fileInfo"> WAV Â· MP3 Â· M4A Â· FLAC Â· OGG </div>
                <input
                    type="file"
                    id="audio"
                    name="audio"
                    accept=".wav,.mp3,.m4a,.flac,.ogg"
                    required
                >
            </div>

            <button type="submit" class="btn-primary">ğŸ” Analyze Audio</button>
        </form>
        <a href="{{ url_for('home') }}" class="back-link">â† Back to Home</a>
    </div>

    <script>
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('audio');
        const fileLabel = document.getElementById('fileLabel');
        const fileInfo = document.getElementById('fileInfo');

        uploadArea.addEventListener('click', () => fileInput.click());

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            fileInput.files = e.dataTransfer.files;
            updateFileInfo();
        });

        fileInput.addEventListener('change', updateFileInfo);

        function updateFileInfo() {
            if (fileInput.files[0]) {
                const file = fileInput.files[0];
                fileLabel.textContent = `âœ… ${file.name}`;
                fileInfo.textContent = `${(file.size / 1024 / 1024).toFixed(2)} MB`;
            }
        }
    </script>
</body>
</html>